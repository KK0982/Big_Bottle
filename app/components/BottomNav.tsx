"use client";

import React from "react";
import { Box, Flex, Text, IconButton } from "@chakra-ui/react";
import { useRouter, usePathname } from "next/navigation";

const HomeIcon = ({ isActive }: { isActive: boolean }) => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M11.9998 1.25C12.8658 1.25 13.6405 1.52704 14.4764 1.99609C15.2863 2.45061 16.2146 3.12198 17.3816 3.96582L18.8894 5.05566C19.8263 5.73298 20.5752 6.27374 21.1394 6.77441C21.722 7.29128 22.1579 7.80695 22.4344 8.45508C22.7114 9.10458 22.7782 9.7705 22.741 10.5381C22.7051 11.2789 22.5675 12.1726 22.3963 13.2871L22.0809 15.3389C21.8375 16.9223 21.6438 18.1836 21.3592 19.166C21.0648 20.182 20.6502 20.9889 19.909 21.6055C19.1709 22.2193 18.2915 22.4926 17.2176 22.623C16.1727 22.75 14.8541 22.75 13.1893 22.75H10.8113C9.1464 22.75 7.82795 22.75 6.783 22.623C5.709 22.4926 4.8297 22.2193 4.0916 21.6055C3.35035 20.9889 2.93579 20.182 2.6414 19.166C2.35674 18.1836 2.16308 16.9224 1.91972 15.3389L1.60429 13.2871C1.43303 12.1726 1.29543 11.2788 1.25956 10.5381C1.22241 9.77046 1.28917 9.10462 1.56621 8.45508C1.84264 7.80695 2.27858 7.29128 2.86113 6.77441C3.42538 6.27381 4.17347 5.73287 5.11015 5.05566L6.61894 3.96582C7.78602 3.12197 8.71426 2.45061 9.52421 1.99609C10.3599 1.52719 11.134 1.25009 11.9998 1.25ZM15.5916 16.5391C15.3371 16.2126 14.8666 16.1541 14.5398 16.4082C13.8744 16.9262 12.9862 17.25 11.9998 17.25C11.0135 17.2499 10.1261 16.9262 9.46074 16.4082C9.13389 16.1539 8.66242 16.2122 8.408 16.5391C8.15357 16.8659 8.21299 17.3374 8.53984 17.5918C9.47333 18.3184 10.6859 18.7499 11.9998 18.75C13.3138 18.75 14.5272 18.3185 15.4607 17.5918C15.7876 17.3374 15.846 16.8659 15.5916 16.5391Z"
      fill={isActive ? "#01E35C" : "rgba(0, 0, 0, 0.5)"}
    />
  </svg>
);

const StakingIcon = ({ isActive }: { isActive: boolean }) => (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M13 1.25C15.1001 1.25 16.7511 1.24884 18.0381 1.42187C19.3464 1.59783 20.3904 1.9666 21.2119 2.78809C22.0334 3.60957 22.4022 4.65356 22.5781 5.96191C22.7512 7.24892 22.75 8.89988 22.75 11C22.75 13.1001 22.7512 14.7511 22.5781 16.0381C22.4022 17.3464 22.0334 18.3904 21.2119 19.2119C20.5454 19.8784 19.7318 20.2438 18.75 20.4531V22C18.75 22.4142 18.4142 22.75 18 22.75C17.5858 22.75 17.25 22.4142 17.25 22V20.6572C16.0957 20.7478 14.6941 20.75 13 20.75H11C9.30589 20.75 7.90428 20.7478 6.75 20.6572V22C6.75 22.4142 6.41421 22.75 6 22.75C5.58579 22.75 5.25 22.4142 5.25 22V20.4531C4.26821 20.2438 3.45459 19.8784 2.78809 19.2119C1.9666 18.3904 1.59783 17.3464 1.42187 16.0381C1.24884 14.7511 1.25 13.1001 1.25 11C1.25 8.89988 1.24884 7.24892 1.42187 5.96191C1.59783 4.65356 1.9666 3.60957 2.78809 2.78809C3.60957 1.9666 4.65356 1.59783 5.96191 1.42187C7.24892 1.24884 8.89988 1.25 11 1.25H13ZM7.66211 6.64844C7.46787 6.28266 7.01426 6.1437 6.64844 6.33789C5.95575 6.70563 5.57381 7.2288 5.39844 7.9209C5.24512 8.52632 5.25 9.27813 5.25 10.0937V11.9062C5.25 12.7219 5.2451 13.4737 5.39844 14.0791C5.55194 14.6848 5.86343 15.1616 6.40332 15.5176L6.64844 15.6621L6.71777 15.6953C7.06976 15.8387 7.47999 15.6944 7.66211 15.3516C7.8441 15.0087 7.73374 14.5883 7.41797 14.377L7.35156 14.3379L7.24512 14.2764C7.01573 14.1308 6.91691 13.9688 6.85156 13.7109C6.75493 13.3294 6.75 12.799 6.75 11.9062V10.0937C6.75 9.20097 6.75495 8.67061 6.85156 8.28906C6.92621 7.99448 7.04458 7.82508 7.35156 7.66211C7.71734 7.46789 7.85623 7.01426 7.66211 6.64844ZM15 7C12.7909 7.00001 11 8.79088 11 11C11.0001 13.209 12.7909 15 15 15C17.2091 15 18.9999 13.2091 19 11C19 8.79087 17.2091 7 15 7ZM15 9C16.1046 9 17 9.89543 17 11C17 12.1046 16.1046 13 15 13C13.8954 13 13 12.1046 13 11C13 9.89543 13.8954 9 15 9Z"
      fill={isActive ? "#01E35C" : "rgba(0, 0, 0, 0.5)"}
    />
  </svg>
);

const BottomNav = () => {
  const router = useRouter();
  const pathname = usePathname();

  const handleNavigation = (path: string) => {
    router.push(path);
  };

  const navItems = [
    {
      label: "Home",
      path: "/",
      icon: HomeIcon,
    },
    {
      label: "Staking",
      path: "/staking",
      icon: StakingIcon,
    },
  ];

  return (
    <Box
      position="fixed"
      bottom="0"
      left="0"
      right="0"
      bg="rgba(255, 255, 255, 0.9)"
      backdropFilter="blur(10px)"
      borderTop="1px solid rgba(0, 0, 0, 0.1)"
      zIndex={1000}
      pb="env(safe-area-inset-bottom)"
    >
      <Flex
        justifyContent="space-around"
        alignItems="center"
        py="8px"
        px="16px"
        height="60px"
      >
        {navItems.map((item) => {
          const isActive = pathname === item.path;
          const IconComponent = item.icon;

          return (
            <Flex
              key={item.path}
              direction="column"
              alignItems="center"
              cursor="pointer"
              onClick={() => handleNavigation(item.path)}
              flex="1"
              gap="2px"
            >
              <IconComponent isActive={isActive} />
              <Text
                fontSize="10px"
                fontFamily="Roboto"
                fontWeight="400"
                color={isActive ? "#01E35C" : "rgba(0, 0, 0, 0.5)"}
                lineHeight="14px"
              >
                {item.label}
              </Text>
            </Flex>
          );
        })}
      </Flex>
    </Box>
  );
};

export default BottomNav;
